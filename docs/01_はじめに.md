# 1. はじめに

**C言語でWebアプリを書く**。  
こう聞いて「正気か？」と思った人は、正常な感覚の持ち主です。

今どきのWebアプリといえば、PHP、Ruby、Python、Node.js…  
いずれもLL（Lightweight Language）と呼ばれる高級な言語で書かれており、  
Cのような低レベル言語でわざわざWebアプリを作ろうとする人は、もはや変態とすら言えるかもしれません（誉め言葉）。

でも、そんなあなたにこそ伝えたい。

---

## C言語 × Webアプリ = 最小構成の学び

本書は「C言語を使ってCGI（Common Gateway Interface）を自作し、  
Webアプリケーションの仕組みを根っこから理解する」ことを目的とした入門書です。

そして、単に動作するコードを紹介するだけではなく、  
**構造化・再利用性・保守性**といった「設計」の観点からもアプローチしていきます。

たとえば、

- CGIであっても、処理と出力を分けるテンプレート設計
- データの構造化（パースやエンコード処理）の共通化
- ODBCを利用した「製品非依存なDBアクセス」
- ファイルベースセッション管理での状態設計

など、「設計入門」として意味のある題材を段階的に扱っていきます。

---

## なぜ、あえてC言語なのか？

C言語を使う最大のメリットの一つは、**ロックインされないこと**です。

たとえば、PHPやNode.jsでは特定のランタイム環境やフレームワークに依存する傾向がありますが、  
C言語はコンパイル後にバイナリを直接実行でき、**アセンブリコードの生成・最適化**すら視野に入れられます。

また、MySQL / PostgreSQL / SQLite といったRDB製品とつなぐ際も、  
**ODBCという共通仕様**を使うことで、特定ベンダーに縛られない構成が実現できます。

つまり、「今どきの技術が全部入り」ではない代わりに、  
**最小限の構成で最大限の理解を得る**ことができるのです。

---

## 読者対象

本書は以下のような方を対象としています：

- C言語を学習済みで、Web技術に興味を持っている人
- ApacheやLinuxに触れたことがあり、CGIに挑戦してみたい人
- PHPやPythonが「何を隠しているか」を知りたくなってきた人
- Webアプリの仕組みをシンプルな構成で学び直したい中堅〜ベテラン層

---

## 本書の構成

本書では、以下のような順序で内容を展開していきます：

```text
第1章：はじめに
第2章：CGIとは何か
第3章：最初のCGIプログラム
第4章：フォームからのデータ受信
第5章：フォーム値の構造化とアクセス
第6章：HTMLテンプレート生成とレスポンスヘッダ
第7章：ODBCを使ったデータベース連携
第8章：セッション管理とユーザー認証
第9章：実践アプリ：簡易CMS（日記投稿アプリ）を作ろう
第10章：API化：JSONレスポンスをつくってみよう
第11章：Appendix：開発環境・デプロイTips集
```

章立ては、単なる「写経」にとどまらず、

- **基礎（GET/POST、出力）**
- **応用（DB、テンプレート、認証）**
- **実践（CMS、API化）**

という**段階的な学びのステップ**として構成されています。

---

## 実行環境・構築について

各章で紹介するサンプルは、実際に手元のApacheサーバ上で動作させることが可能です。  
本書では、Ubuntu Linux + Apache + MariaDB + unixODBC を想定しています。

> ※ 本書で扱うApacheの設定、MariaDBの初期構築、unixODBCの導入などについては、  
> **第11章「Appendix：開発環境・デプロイTips集**にて詳しく紹介しています。必要に応じて参照してください。

---

それでは、**最初の一歩として「CGIとは何か？」**を一緒に見ていきましょう。