## 実践アプリ：簡易CMS（日記投稿アプリ）を作ろう

### 9.1 アプリの概要と要件整理

ここからは、実践的なアプリケーション開発に挑戦します！

今回作るのは、**「簡易CMS（日記投稿アプリ）」**です。

---

### アプリの概要

ログインユーザーが「日記」を投稿・管理できるシンプルなWebアプリケーションを作成します。  
投稿はデータベースに保存され、ログインユーザが投稿した日記の公開・非公開を設定出来ます。  
公開された投稿は他のユーザーにも閲覧可能ですが、非公開投稿は投稿者本人のみ閲覧できます。

---

### 機能要件

- **ユーザー認証**  
  ログイン済みのユーザーのみ、日記の投稿・閲覧ができる。

- **日記投稿**  
  ユーザーは日記（タイトル・本文）を入力し、投稿できる。

- **公開設定**  
  投稿時に「公開」「非公開」の設定を選択できる。

- **データベース保存**  
  投稿データ（ユーザーID、タイトル、本文、公開設定、投稿日時）はデータベースに保存される。

- **日記一覧表示**  
  - 公開投稿は、すべてのユーザーが閲覧できる。  
  - 非公開投稿は、投稿者本人のみが閲覧できる。

- **ユーザーごとの投稿管理**  
  - 各ユーザーは、自分の投稿を区別して閲覧・管理できる。  
  - 将来的に「編集・削除」機能に拡張可能な構成とする。

---

### データベース設計（シンプル版）

仮に**日記データ**を保存するためのテーブルを用意します。

```sql
CREATE TABLE diary (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    title VARCHAR(255),
    body TEXT,
    is_public TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

- `user_id`：投稿者のID（セッションと紐づく）
- `title`：日記のタイトル
- `body`：日記本文
- `is_public`：公開（1）・非公開（0）フラグ
- `created_at`：投稿日時

---

### 進め方の方針

まずは、

- 誰でも投稿できるシンプル版（ログイン不要）
- 公開/非公開切り替え版

を作成し、

その後、

- ログイン機能との連携版（ユーザーごとに管理）

へ段階的に発展させていきます！

> ※ 本章ではまず「動くものを作る」ことを最優先に進め、細かなセキュリティ対策やUI改善は後続章で扱います。

---

次は、
**「日記投稿フォームを作成する」**パートに進みましょう！
