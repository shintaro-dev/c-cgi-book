# CGIとは何か？

CGI（Common Gateway Interface）は、Webサーバが外部プログラムを通じてリクエストに応答するための仕組みです。  
HTMLだけではできなかった「ユーザの入力に応じた動的なコンテンツ」を実現する最初の方法として、  
CGIはインターネット黎明期から広く使われてきました。

---

## 静的コンテンツ vs 動的コンテンツ

- **静的コンテンツ** … 単なるHTMLファイル（`index.html` など）  
  誰がアクセスしても同じ内容が表示される  
- **動的コンテンツ** … ユーザごとに異なる内容を生成するプログラム（掲示板、フォーム処理など）

---

## CGIの登場と役割

当初のWebサーバ（例：NCSA HTTPd、Apache 1.x）は、**HTMLファイルをそのまま返す**だけのシンプルなもの。  
しかし、「ユーザの名前を受け取って挨拶する」「フォームに入力された内容を記録する」などの処理には対応できませんでした。

そこで導入されたのが **CGI** です。

CGIでは、WebサーバがHTTPリクエストを**標準入力や環境変数に変換**して外部プログラムに渡し、  
その結果（標準出力）を**HTTPレスポンスとして返す**という方式を取ります。

---

## CGIの仕組み（ざっくり図解）

```
[ ブラウザ ]
     ↓ HTTPリクエスト（GET/POST）
[ Webサーバ ]
     ↓ 標準入力・環境変数
[ CGIプログラム（Cなど） ]
     ↓ 標準出力（HTMLなど）
[ Webサーバ ]
     ↓ HTTPレスポンス
[ ブラウザに表示 ]
```

---

## CGIのメリット・デメリット

| 項目       | 内容 |
|------------|------|
| メリット   | 言語を問わず使える（CでもPythonでもOK）<br>シンプルな仕組みで動作が明確 |
| デメリット | リクエストごとにプロセスを起動 → **処理が重い**<br>ファイルベースのセッション管理などが手間 |

---

## 近代的な技術との関係

- PHP, Ruby on Rails, Java Servlet, FastCGI などは、CGIの**仕組みを内包・拡張・高速化**した存在
- **「CGI的な構造」が現代のWebにも受け継がれている**ことを理解するのが本書の目的のひとつです

---

この章では、CGIが「なぜ存在するのか」「どのように動くのか」を把握してもらいました。  
次章では実際に、最初のCGIプログラムを作成し、ブラウザからのアクセスを体験していきます。
